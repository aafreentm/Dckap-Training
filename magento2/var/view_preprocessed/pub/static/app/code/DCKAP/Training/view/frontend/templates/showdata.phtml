<?php $objectManager = \Magento\Framework\App\ObjectManager::getInstance(); $cacheTypeList = $objectManager->get(\Magento\Framework\App\Cache\Manager::class); #echo '<pre>';print_r($cacheTypeList->getAvailableTypes());exit; $cacheTypeList->flush($cacheTypeList->getAvailableTypes()); $collection = $block->getCollection(); $helper = \Magento\Framework\App\ObjectManager::getInstance()->get('DCKAP\Training\Helper\Data'); #echo '<pre>';print_r($helper->isEnable());exit; if ($collection->count()) { ?> <div><h2>Magento 2 Crud List</h2></div><div class="table-wrapper orders-history"><?php if($helper->isEnable()==1){ ?> <a class="" href="<?= $block->getUrl('mymodule/index/insert'); ?>">Add Record</a> <?php } ?> <table class="data table table-order-items history" id="my-orders-table"><caption class="table-caption"><?php echo __('Grid Record') ?></caption><thead><tr><th scope="col" class="col id"><?php echo __('ID') ?></th><th scope="col" class="col name"><?php echo __('Name') ?></th><th scope="col" class="col email"><?php echo __('Email') ?></th><th scope="col" class="col telephone"><?php echo __('Contact') ?></th><th scope="col" class="col dob"><?php echo __('DOB') ?></th><th scope="col" class="col age"><?php echo __('Age') ?></th><th scope="col" class="col country"><?php echo __('Country') ?></th><th scope="col" class="col createat"><?php echo __('Created At') ?></th><th scope="col" class="col updateat"><?php echo __('Updated At') ?></th><th colspan="2"><?= __('Action'); ?></th></tr></thead><tbody><?php foreach ($collection as $item): ?> <tr><td data-th="<?= $block->escapeHtml(__('ID')) ?>" class="col id"><?php echo $item->getId() ?></td><td data-th="<?= $block->escapeHtml(__('Name')) ?>" class="col name"><?php echo $item->getName() ?></td><td data-th="<?= $block->escapeHtml(__('Email')) ?>" class="col email"><?php echo $item->getEmail() ?></td><td data-th="<?= $block->escapeHtml(__('Telephone')) ?>" class="col telephone"><?php echo $item->getTelephone() ?></td><td data-th="<?= $block->escapeHtml(__('DOB')) ?>" class="col dob" class="col title" ><?php echo $item->getDob() ?></td><td data-th="<?= $block->escapeHtml(__('Age')) ?>" class="col age" class="col title" ><?php echo $item->getAge(); ?></td><td data-th="<?= $block->escapeHtml(__('Country')) ?>" class="col country" class="col title" ><?php echo $item->getCountry(); ?></td><td data-th="<?= $block->escapeHtml(__('Created At')) ?>" class="col createat" class="col title" ><?php echo date('Y-m-d ', strtotime($item->getCreatedAt())); ?></td><td data-th="<?= $block->escapeHtml(__('Update At')) ?>" class="col updateat" class="col title" ><?php echo date('Y-m-d ', strtotime($item->getUpdateAt())); ?></td><td><a href="<?= $block->getUrl('mymodule/index/edit').'id/'.$item->getId(); ?>" class="action primary">Edit</a></td><td><a href="<?= $block->getUrl('mymodule/index/delete').'?id='.$item->getId(); ?>" class="action primary">Delete</a></td></tr><?php endforeach; ?></tbody></table></div><?php } ?>